<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--引入BootStrap的样式，提供了大量的样式-->
    <link rel="stylesheet" href="/bootstrap-3.4.1-dist/css/bootstrap.min.css">

    <style>
        .hide{
            display: none;
        }
        .container {
            margin: 0 auto;
            {#width:100vw;#}
            {#height:100vh;#}
            {#margin: 0 auto;#}
            {#padding: 0#}
        }
    </style>
</head>
<body>
<form id="add_form" class="container">
    <div class="form-group">
        <label for="exampleInputPassword1">环境名称</label>
        {#        <input type="text" class="form-control" id="name" placeholder="环境" name="name" value={{ env_info.name }}>#}
        <input type="text" class="form-control" id="name" placeholder="环境名称" name="name" value="">
    </div>
    <button type="button" class="btn btn-default" >
        <a id="ajax_add_submit" >提交</a>
    </button>
    <button type="submit" class="btn btn-default">
        <a href="{% url 'url_ops' 0 %}">取消</a>
    </button>
</form>



<script src="/jquery-1.12.4.js"></script>
<!--引入BootStrap的js，提供了一些动态效果。注意：必须先引入jQuery-->
<script src="/bootstrap-3.4.1-dist/js/bootstrap.js"></script>
<script>
    $(function () {
        $('#ajax_add_submit').click(function () {
            $.ajax({
                url: '{% url 'url_add_env' %}',
                type: 'POST',
                data: $('#add_form').serialize(),
                dataType: 'JSON',
                traditional: true,
                success: function (data) {
                    console.log(data);
                    if(data.status){
                        location.href = '{% url 'url_ops' 0 %}';
                    }else{
                        $('#error').text(data.eror);
                        location.href = '{% url 'url_ops' 0 %}';
                    }
                }
            })
        });
    })
</script>
</body>
</html>